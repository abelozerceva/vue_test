(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ 47:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(51);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(9).default
var update = add("82e310ac", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ 48:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(54);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__(9).default
var update = add("dfb24272", content, false, {});
// Hot Module Replacement
if(false) {}

/***/ }),

/***/ 50:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TableComp_vue_vue_type_style_index_0_id_180c3249_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(47);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TableComp_vue_vue_type_style_index_0_id_180c3249_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TableComp_vue_vue_type_style_index_0_id_180c3249_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TableComp_vue_vue_type_style_index_0_id_180c3249_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 51:
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(8);
            var content = __webpack_require__(52);

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

/***/ }),

/***/ 52:
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ 53:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_GlassState_vue_vue_type_style_index_0_id_1bf15a4e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48);
/* harmony import */ var _node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_GlassState_vue_vue_type_style_index_0_id_1bf15a4e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_GlassState_vue_vue_type_style_index_0_id_1bf15a4e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_node_modules_style_loader_dist_cjs_js_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_2_3_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_dist_cjs_js_ref_2_4_node_modules_vue_loader_lib_index_js_vue_loader_options_GlassState_vue_vue_type_style_index_0_id_1bf15a4e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 54:
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(8);
            var content = __webpack_require__(55);

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

/***/ }),

/***/ 55:
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ 59:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/pug-plain-loader!./node_modules/vue-loader/lib??vue-loader-options!./src/vue_component/GlassState.vue?vue&type=template&id=1bf15a4e&scoped=true&lang=pug&
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "content" }, [
    _c("div", { staticClass: "symbol-type" }, [
      _vm._v("Symbol = " + _vm._s(_vm.symbol))
    ]),
    _c(
      "div",
      { staticClass: "wrapper" },
      [
        _c("tableComp", { attrs: { items: _vm.glass.bids } }, [_vm._v("Bids")]),
        _c("tableComp", { attrs: { items: _vm.glass.asks } }, [_vm._v("Asks")])
      ],
      1
    )
  ])
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./src/vue_component/GlassState.vue?vue&type=template&id=1bf15a4e&scoped=true&lang=pug&

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/pug-plain-loader!./node_modules/vue-loader/lib??vue-loader-options!./src/vue_component/TableComp.vue?vue&type=template&id=180c3249&scoped=true&lang=pug&
var TableCompvue_type_template_id_180c3249_scoped_true_lang_pug_render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "wrapTable" }, [
    _c("table", { staticClass: "table" }, [
      _c(
        "caption",
        { staticClass: "table__caption_bg" },
        [_vm._t("default")],
        2
      ),
      _vm._m(0),
      _c(
        "tbody",
        { staticClass: "table__tbody" },
        _vm._l(_vm.items, function(item, index) {
          return _c("tr", { key: index, staticClass: "table-row" }, [
            _c("td", { staticClass: "table-row__td" }, [
              _vm._v(_vm._s(item[0]))
            ]),
            _c("td", { staticClass: "table-row__td" }, [
              _vm._v(_vm._s(item[1]))
            ]),
            _c(
              "td",
              { staticClass: "table-row__td table-row__td-total_hide" },
              [_vm._v(_vm._s(item[0] * item[1]))]
            )
          ])
        }),
        0
      )
    ])
  ])
}
var TableCompvue_type_template_id_180c3249_scoped_true_lang_pug_staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("thead", { staticClass: "tablte__thead" }, [
      _c("tr", { staticClass: "table-row" }, [
        _c("th", { staticClass: "table-row__th" }, [_vm._v("Price")]),
        _c("th", { staticClass: "table-row__th" }, [_vm._v("Ammount")]),
        _c("th", { staticClass: "table-row__th table-row__th-total_hide" }, [
          _vm._v("Total")
        ])
      ])
    ])
  }
]
TableCompvue_type_template_id_180c3249_scoped_true_lang_pug_render._withStripped = true


// CONCATENATED MODULE: ./src/vue_component/TableComp.vue?vue&type=template&id=180c3249&scoped=true&lang=pug&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./src/vue_component/TableComp.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var TableCompvue_type_script_lang_js_ = ({
  name: "TableComp",
  props: ["items"]
});
// CONCATENATED MODULE: ./src/vue_component/TableComp.vue?vue&type=script&lang=js&
 /* harmony default export */ var vue_component_TableCompvue_type_script_lang_js_ = (TableCompvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/vue_component/TableComp.vue?vue&type=style&index=0&id=180c3249&scoped=true&lang=scss&
var TableCompvue_type_style_index_0_id_180c3249_scoped_true_lang_scss_ = __webpack_require__(50);

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./src/vue_component/TableComp.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  vue_component_TableCompvue_type_script_lang_js_,
  TableCompvue_type_template_id_180c3249_scoped_true_lang_pug_render,
  TableCompvue_type_template_id_180c3249_scoped_true_lang_pug_staticRenderFns,
  false,
  null,
  "180c3249",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/vue_component/TableComp.vue"
/* harmony default export */ var TableComp = (component.exports);
// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./src/vue_component/GlassState.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//

/* harmony default export */ var GlassStatevue_type_script_lang_js_ = ({
  name: "GlassState",
  components: {
    tableComp: TableComp
  },
  data: () => ({
    glass: {
      bids: null,
      asks: null
    },
    symbol: "BTCUSDT",
    ws: null
  }),

  async created() {
    await this.snapshot();
    this.wsSubscribe();
    this.$bus.$on("symbol", symbol => {
      this.symbol = symbol;
      this.ws.close();
      this.wsSubscribe();
    });
  },

  methods: {
    async snapshot() {
      let glass = await this.$sdk.get(this.symbol); // делаем снепшот

      glass.bids = glass.bids.reverse(); // переварачиваем, чтобы сверху таблицы были новые данные

      glass.asks = glass.asks.reverse(); // переварачиваем, чтобы сверху таблицы были новые данные

      this.glass = glass; // отрисовываем снепшот
    },

    wsSubscribe() {
      this.ws = this.$sdk.subscribe(this.symbol);

      this.ws.onmessage = async event => {
        // запускаем callBack при получении сообщений
        let data = JSON.parse(event.data); // арсим данные в Json

        let [asksAdd, bidsAdd] = [// создаём массивы новых данных
        data.a.filter(item => item[1] != 0), // отфильтровываем 0-ые сделки
        data.b.filter(item => item[1] != 0) // отфильтровываем 0-ые сделки
        ];
        asksAdd.reverse(); // переварачиваем, чтобы сверху таблицы были новые данные

        bidsAdd.reverse(); // переварачиваем, чтобы сверху таблицы были новые данные

        this.glass.asks.splice(this.glass.asks.length - asksAdd.length, asksAdd.length); // удаляем из буффера asks столько данных сколько пришло

        this.glass.bids.splice(this.glass.bids.length - bidsAdd.length, bidsAdd.length); // удаляем из буффера bids столько данных сколько пришло

        this.glass.asks = [...asksAdd, ...this.glass.asks]; // дописываем полученные данные в буфер asks

        this.glass.bids = [...bidsAdd, ...this.glass.bids]; // дописываем полученные данные в буфер bids
      };
    }

  }
});
// CONCATENATED MODULE: ./src/vue_component/GlassState.vue?vue&type=script&lang=js&
 /* harmony default export */ var vue_component_GlassStatevue_type_script_lang_js_ = (GlassStatevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/vue_component/GlassState.vue?vue&type=style&index=0&id=1bf15a4e&scoped=true&lang=scss&
var GlassStatevue_type_style_index_0_id_1bf15a4e_scoped_true_lang_scss_ = __webpack_require__(53);

// CONCATENATED MODULE: ./src/vue_component/GlassState.vue






/* normalize component */

var GlassState_component = Object(componentNormalizer["a" /* default */])(
  vue_component_GlassStatevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "1bf15a4e",
  null
  
)

/* hot reload */
if (false) { var GlassState_api; }
GlassState_component.options.__file = "src/vue_component/GlassState.vue"
/* harmony default export */ var GlassState = __webpack_exports__["default"] = (GlassState_component.exports);

/***/ })

}]);